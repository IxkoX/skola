<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editovatelná Tabulka</title>
    <style>
        table {
            max-width: 100vw;
            border-collapse: collapse;
        }

        td input {
            width: 100%;
            box-sizing: border-box;
            height: 18px;
        }
    </style>
</head>

<body>
    <button onclick="addRowBottom()">Přidej řádek dolu</button>
    <button onclick="addRowTop()">Přidej řádek nahoru</button>
    <button onclick="addColumnLeft()">Přidej sloupec vlevo</button>
    <button onclick="addColumnRight()">Přidej sloupec vpravo</button>
    <button onclick="removeRow()">Odeber řádek</button>
    <button onclick="removeColumn()">Odeber sloupec</button>

    <table id="editableTable"></table>

    <script>
        let kdejsemradek = -1;
        let kdejsemsloupec = -1;

        function addRowBottom() {
            const table = document.getElementById('editableTable');
            // Pokud je tabulka prázdná, přidej jeden řádek
            if (table.rows.length === 0) {
                const row = table.insertRow(0);
                const cell = row.insertCell(0);
                cell.innerHTML = '<input type="text" value="" onclick="cellClicked(this)">';
                return;
            }
            // Přidej řádek pod aktuální
            if (kdejsemradek !== -1) {
                const row = table.insertRow(kdejsemradek + 1);
                const cols = table.rows[0].cells.length;
                for (let i = 0; i < cols; i++) {
                    const cell = row.insertCell(i);
                    cell.innerHTML = '<input type="text" value="" onclick="cellClicked(this)">';
                }
            }
        }

        function addRowTop() {
            const table = document.getElementById('editableTable');
            // Pokud je tabulka prázdná, přidej jeden řádek
            if (table.rows.length === 0) {
                const row = table.insertRow(0);
                const cell = row.insertCell(0);
                cell.innerHTML = '<input type="text" value="" onclick="cellClicked(this)">';
                return;
            }
            // Přidej řádek nad aktuální
            if (kdejsemradek !== -1) {
                const row = table.insertRow(kdejsemradek);
                const cols = table.rows[0].cells.length;
                for (let i = 0; i < cols; i++) {
                    const cell = row.insertCell(i);
                    cell.innerHTML = '<input type="text" value="" onclick="cellClicked(this)">';
                }
            }
        }

        function addColumnLeft() {
            const table = document.getElementById('editableTable');
            // Pokud je tabulka prázdná, přidej jeden řádek a sloupec
            if (table.rows.length === 0) {
                const row = table.insertRow(0);
                const cell = row.insertCell(0);
                cell.innerHTML = '<input type="text" value="" onclick="cellClicked(this)">';
                return;
            }
            // Přidej sloupec vlevo od aktuální
            if (kdejsemsloupec !== -1) {
                for (let i = 0; i < table.rows.length; i++) {
                    const cell = table.rows[i].insertCell(kdejsemsloupec);
                    cell.innerHTML = '<input type="text" value="" onclick="cellClicked(this)">';
                }
            }
        }

        function addColumnRight() {
            const table = document.getElementById('editableTable');
            // Pokud je tabulka prázdná, přidej jeden řádek a sloupec
            if (table.rows.length === 0) {
                const row = table.insertRow(0);
                const cell = row.insertCell(0);
                cell.innerHTML = '<input type="text" value="" onclick="cellClicked(this)">';
                return;
            }
            // Přidej sloupec vpravo od aktuální
            if (kdejsemsloupec !== -1) {
                for (let i = 0; i < table.rows.length; i++) {
                    const cell = table.rows[i].insertCell(kdejsemsloupec + 1);
                    cell.innerHTML = '<input type="text" value="" onclick="cellClicked(this)">';
                }
            }
        }

        function removeRow() {
            const table = document.getElementById('editableTable');
            if (kdejsemradek !== -1) {
                table.deleteRow(kdejsemradek);
                kdejsemradek = -1; // Resetování pozice po odstranění
            }
        }

        function removeColumn() {
            const table = document.getElementById('editableTable');
            if (kdejsemsloupec !== -1) {
                for (let i = 0; i < table.rows.length; i++) {
                    table.rows[i].deleteCell(kdejsemsloupec);
                }
                kdejsemsloupec = -1; // Resetování pozice po odstranění
            }
        }

        function cellClicked(cell) {
            kdejsemradek = cell.parentElement.parentElement.rowIndex;
            kdejsemsloupec = cell.parentElement.cellIndex;
            console.log("Clicked on row: " + kdejsemradek + ", column: " + kdejsemsloupec);
        }
    </script>

</body>

</html>
