<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vážený průměr</title>
    <style>
       
    </style>
</head>

<body>

    <div class="formular">
        <h2>Zadejte 12 párů čísel a váh</h2>
        <form id="dataForm">
            <div id="inputsContainer"></div>
            <button type="button" onclick="processData()">Spočítat vážený průměr</button>
        </form>
    </div>

    <div class="result-container" id="resultContainer"></div>

    <script>
        // Vytvoření formulářových polí
        function createInputFields(numPairs) {
            const container = document.getElementById('inputsContainer');
            container.innerHTML = ''; // Vyčistit předchozí obsah

            for (let i = 0; i < numPairs; i++) {
                const inputGroup = document.createElement('div');
                inputGroup.innerHTML = `
                    <label>Pár ${i + 1}:</label>
                    <input type="number" step="any" name="number${i}" placeholder="Číslo" required>
                    <input type="number" step="any" name="weight${i}" placeholder="Váha" required>
                    <br><br>
                `;
                container.appendChild(inputGroup);
            }
        }

        // Funkce pro zpracování formulářových dat
        function processData() {
            const numPairs = 12;
            const data = [];
            let valid = true;

            for (let i = 0; i < numPairs; i++) {
                const number = parseFloat(document.querySelector(`[name='number${i}']`).value);
                const weight = parseFloat(document.querySelector(`[name='weight${i}']`).value);

                if (!isNaN(number) && !isNaN(weight) && weight >= 0) {
                    data.push([number, weight]);
                } else {
                    valid = false;
                    alert(`Pár ${i + 1} obsahuje neplatné hodnoty.`);
                    break;
                }
            }

            if (valid) {
                const avg = weightedAverage2D(data);
                displayResults(data, avg);
                document.getElementById('dataForm').reset();
            }
        }

        // Funkce pro výpočet váženého průměru
        function weightedAverage2D(data) {
            let weightedSum = 0;
            let totalWeight = 0;

            for (const [number, weight] of data) {
                weightedSum += number * weight;
                totalWeight += weight;
            }

            return weightedSum / totalWeight;
        }

        // Funkce pro zobrazení výsledků
        function displayResults(data, avg) {
            const resultContainer = document.getElementById('resultContainer');
            resultContainer.innerHTML = '<h2>Zadané páry:</h2>';

            data.forEach(([number, weight], index) => {
                resultContainer.innerHTML += `<p>Pár ${index + 1}: Číslo = ${number}, Váha = ${weight}</p>`;
            });

            resultContainer.innerHTML += `<h2>Vážený průměr: ${avg}</h2>`;
        }

        // Inicializace formuláře
        createInputFields(12);
    </script>

</body>

</html>